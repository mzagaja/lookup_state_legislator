<h1>Find your state legislator using HTML5 Location + Sunlight API</h1>
<p>Click the button to get your coordinates.</p>
<%= form_tag("static_pages/contact", method: "get") do %>
  <%= label_tag(:q, "Search for:") %>
  <%= hidden_field_tag(:location) %>
  <%= submit_tag("Search") %>
<% end %>
<br>
<button onclick="getLocation()">Get my location.</button>
<script>
var x = document.getElementById("location");
function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(passPosition);
    } else {
        x.value = "Geolocation is not supported by this browser.";
    }
}
function passPosition(position) {
    x.value = position.coords.latitude + "," + position.coords.longitude; 
}
</script>